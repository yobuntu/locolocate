let bars = {
    "type": "FeatureCollection",
    "features": [
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.268901824951172,
                53.350090211332024
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.268901824951172,
                53.34727222643009
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.263751983642578,
                53.3500389769055
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.262722015380859,
                53.34558134607712
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.259546279907227,
                53.345940023270835
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.255340576171874,
                53.345786304843
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.255941390991211,
                53.34829696976483
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.256542205810547,
                53.35019268000039
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.260232925415038,
                53.351473517572565
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.25645637512207,
                53.3539838475774
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.26469612121582,
                53.35546948344972
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.274309158325194,
                53.35475228639043
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.276969909667969,
                53.350756253273524
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.277742385864257,
                53.347835838312335
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.274137496948242,
                53.34696479862654
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.281604766845702,
                53.345376386325924
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.272764205932617,
                53.34419784863605
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.278343200683594,
                53.34204565227498
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.276540756225586,
                53.3377409336585
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.258172988891602,
                53.35972118958376
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.264781951904297,
                53.334870879836444
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.255598068237305,
                53.33932963040544
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.256628036499023,
                53.34178943118664
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.263236999511719,
                53.339944593902686
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.259546279907227,
                53.342353115548796
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.264181137084961,
                53.34383915678624
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.265811920166016,
                53.34163569779466
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.269416809082031,
                53.34214814027924
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.269588470458984,
                53.34496646386775
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.266584396362305,
                53.34829696976483
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.263923645019531,
                53.347938312399506
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.2684619426727295,
                53.34516502055059
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.266595125198364,
                53.34542122135569
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.271498203277588,
                53.344915223283344
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.268279552459717,
                53.34610655094226
            ]
        }
    },
    {
        "type": "Feature",
        "properties": {},
        "geometry": {
            "type": "Point",
            "coordinates": [
                -6.265543699264526,
                53.34690715566657
            ]
        }
    }
]
};

let displayedLayer = document.getElementById('displayed-layer');
let bars_button = document.getElementById('bars-button');
bars_button.addEventListener('click', (e) => {
    if (!barsDisplayed) {
        barsLayer.addTo(map);
        displayedLayer.innerHTML = '<i class="fas fa-beer fa-lg"></i>'
    }
    else {
        map.removeLayer(barsLayer);
        displayedLayer.innerHTML = '...';
    }
    barsDisplayed = !barsDisplayed;
});

let barsDisplayed = false;
let poiPopup = "<div class='poi-popup'>" +
    "<h4>The Random Bar</h4>" +
    "<div class=\"btn-group poi-list-modes\" role=\"group\" aria-label=\"Basic example\">" +
    "        <button type=\"button\" class=\"btn btn-info\"><i class=\"fas fa-walking fa-lg\"></i></button>" +
    "        <button type=\"button\" class=\"btn btn-info\"><i class=\"fas fa-biking fa-lg\"></i></button>" +
    "        <button type=\"button\" class=\"btn btn-info\"><i class=\"fas fa-car fa-lg\"></i></button>" +
    "        <button type=\"button\" class=\"btn btn-info\"><i class=\"fas fa-subway fa-lg\"></i></button>" +
    "        <button type=\"button\" class=\"btn btn-info\"><i class=\"fas fa-code-branch fa-lg\"></i></button>" +
    "    </div>" +
    "</div>";

let barsLayer = L.geoJson(bars, {
    pointToLayer: function (feature, latlng) {
        return L.circleMarker(latlng, {
            radius: 8,
            color: '#48902f',
            weight: 1,
            opacity: 0.8,
            fillOpacity: 0.9,
        })
    },
    onEachFeature: onBarsFeatures
});

function onBarsFeatures(feature, layer) {
    layer.bindPopup(poiPopup);
}

bars_button.click();
